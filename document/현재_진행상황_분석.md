# 현재 진행 상황 분석 및 향후 작업 계획

## 📊 전체 진행 상황 요약

### ✅ 완료된 작업

#### 백엔드 (Backend)
- **데이터베이스 스키마**: 완전 구현 ✅
  - Users, Projects, ProjectMembers, Tasks, ProjectCommits, ProjectCommitFiles, ProjectIssues, ProjectBranches, AI_Logs 테이블 모두 구현
  - FOREIGN KEY 제약조건 및 인덱스 설정 완료
  
- **API 엔드포인트**: 총 33개 구현 완료 ✅
  - User API (8개): 회원가입, 로그인, 이메일 중복 확인, 내 정보 조회/수정, 프로필 이미지 업로드/삭제, 회원 탈퇴
  - Project API (10개): 프로젝트 생성, 코드 검증, 참여, 멤버 조회, 목록/상세 조회, GitHub 연결, 수정, 삭제, 멤버 삭제, 탈퇴
  - Task API (6개): 작업 생성, 목록/상세 조회, 내용 수정, 상태 변경, 할당, 삭제
  - GitHub API (7개): 동기화, 커밋 목록/상세, 이슈 목록/상세, 브랜치 목록/상세
  - Progress API (1개): 프로젝트 진행도 조회
  - AI API (1개): Task 제안

#### 프론트엔드 (Frontend)
- **페이지**: 총 13개 구현 완료 ✅
  - 로그인/회원가입 페이지
  - 메인 대시보드 (할당된 작업 표시)
  - 프로젝트 목록/상세 페이지
  - 설정 페이지
  - 커밋 상세 페이지
  - AI 어드바이저 페이지 (UI만 구현)
  
- **주요 컴포넌트**: 구현 완료 ✅
  - 프로젝트 관리 (생성/참여/수정/삭제)
  - 작업 관리 (생성/수정/삭제/상태 변경/할당)
  - GitHub 연동 (저장소 연결, 동기화, 커밋/이슈/브랜치 목록)
  - 프로필 관리 (수정, 이미지 업로드)

---

## ⚠️ 미완성/누락된 기능

### 1. 진행도 시각화 (High Priority)

**현재 상태:**
- ✅ 백엔드 API: `/api/progress/project/:projectId` 구현 완료
- ❌ 프론트엔드: 진행도 API 호출 및 시각화 미구현

**필요한 작업:**
1. **프론트엔드 API 함수 추가**
   - `morpheus-react/web/src/api/progress.js` 파일 생성
   - 진행도 조회 API 함수 구현

2. **진행도 시각화 컴포넌트 구현**
   - `morpheus-react/web/src/components/Project/ProjectProgressCard.jsx` 생성
   - 프로젝트 진행도 (Task 기반) 프로그레스 바 표시
   - 코드 기반 진행도 (커밋/이슈/브랜치 기반) 프로그레스 바 표시
   - 팀원별 기여도 차트 (선택사항)

3. **프로젝트 상세 페이지에 통합**
   - `ProjectDetailTabs.jsx`에 "진행도" 탭 추가 또는 상세 정보 탭에 통합
   - 또는 `ProjectDetailCard.jsx`에 진행도 섹션 추가

**기획서 요구사항:**
- 프로젝트 진행도: 완료된 Task 수 / 전체 Task 수
- 코드 기반 진행도: 커밋 수, 라인 변경량, 브랜치 수, 이슈 완료율 기반 계산
- 팀원별 기여도: 커밋 수, 이슈 할당/완료 수 집계

---

### 2. AI 기능 실제 연동 (High Priority)

**현재 상태:**
- ✅ 백엔드 API: `/api/ai/task-suggestion` 구현 완료
- ✅ AI 백엔드: Python Flask 서버 구현 (추정)
- ❌ 프론트엔드: AI API 호출 미구현

**필요한 작업:**
1. **프론트엔드 API 함수 추가**
   - `morpheus-react/web/src/api/ai.js` 파일 생성
   - Task 제안 API 함수 구현

2. **AI 어드바이저 페이지 기능 구현**
   - `AIadvisorPage.jsx` 수정
   - 프로젝트 선택 기능 추가
   - AI Task 제안 요청 및 결과 표시
   - 제안된 Task를 실제 Task로 생성하는 기능

3. **AI 다음 단계 페이지 구현**
   - `AINextStepPage.jsx` 수정
   - AI 기반 Task 제안 목록 표시
   - 우선순위별 정렬 및 필터링
   - Task 생성 버튼

**기획서 요구사항:**
- 코드 분석 기반 새 Task 제안 (우선순위 포함)
- 커밋 히스토리 분석
- AI 제안 로그 저장 (백엔드에서 자동 처리)

---

### 3. Task-이슈 연동 기능 (Medium Priority)

**현재 상태:**
- ✅ 백엔드: Task에 `githubIssueNumber` 필드 있음 (스키마 확인 필요)
- ❌ 프론트엔드: Task 생성/수정 시 GitHub 이슈 번호 연결 UI 미구현
- ❌ 백엔드: 이슈가 닫히면 Task 자동 완료 기능 미구현

**필요한 작업:**
1. **Task 생성/수정 폼에 이슈 번호 입력 필드 추가**
   - `ProjectTaskAdd.jsx` 수정
   - `ProjectTaskEdit.jsx` 수정
   - GitHub 이슈 목록에서 선택하는 드롭다운 추가 (선택사항)

2. **백엔드: 이슈 상태 변경 감지 및 Task 자동 업데이트**
   - GitHub 동기화 시 이슈 상태 확인
   - 이슈가 닫히면 연결된 Task 상태를 `done`으로 변경

**기획서 요구사항:**
- Task 생성 시 GitHub 이슈 번호 연결 가능
- 이슈가 닫히면 해당 Task 자동 완료 상태 업데이트

---

### 4. 진행도 대시보드 개선 (Medium Priority)

**현재 상태:**
- ✅ 메인 페이지: 할당된 작업 표시
- ❌ 프로젝트별 진행도 대시보드 미구현

**필요한 작업:**
1. **프로젝트 상세 페이지에 진행도 대시보드 추가**
   - 프로젝트 진행도 (Task 기반)
   - 코드 기반 진행도
   - 최근 커밋/이슈 활동 요약
   - 팀원별 기여도 (선택사항)

---

### 5. GitHub 저장소 연결 상태 확인 (Low Priority)

**현재 상태:**
- ✅ 백엔드 API: `/api/github/repo-status/:projectId` 구현 완료
- ❌ 프론트엔드: 저장소 연결 상태 표시 미구현

**필요한 작업:**
1. **프로젝트 상세 페이지에 저장소 상태 표시**
   - 연결 여부, 마지막 동기화 시간
   - 통계 정보 (커밋 수, 이슈 수, 브랜치 수)

---

## 🎯 우선순위별 작업 계획

### Phase 1: 핵심 기능 완성 (1주)
1. **진행도 시각화 구현** (2-3일)
   - 진행도 API 함수 추가
   - 진행도 시각화 컴포넌트 구현
   - 프로젝트 상세 페이지에 통합

2. **AI 기능 실제 연동** (2-3일)
   - AI API 함수 추가
   - AI 어드바이저 페이지 기능 구현
   - AI 다음 단계 페이지 구현

### Phase 2: 기능 개선 (3-4일)
3. **Task-이슈 연동 기능** (1-2일)
   - Task 생성/수정 폼에 이슈 번호 입력 필드 추가
   - 백엔드: 이슈 상태 변경 감지 및 Task 자동 업데이트

4. **진행도 대시보드 개선** (1-2일)
   - 프로젝트 상세 페이지에 진행도 대시보드 추가

### Phase 3: 마무리 작업 (1-2일)
5. **GitHub 저장소 연결 상태 확인** (0.5일)
6. **버그 수정 및 테스트** (1-1.5일)
7. **문서화 및 배포 준비** (0.5일)

---

## 📝 상세 작업 항목

### 1. 진행도 시각화 구현

#### 1.1 API 함수 추가
**파일**: `morpheus-react/web/src/api/progress.js`
```javascript
import axios from 'axios';
import { API_ENDPOINTS } from '../config/api';

export const getProjectProgress = async (projectId) => {
  // 구현 필요
};
```

#### 1.2 진행도 컴포넌트 구현
**파일**: `morpheus-react/web/src/components/Project/ProjectProgressCard.jsx`
- 프로젝트 진행도 프로그레스 바
- 코드 기반 진행도 프로그레스 바
- 팀원별 기여도 차트 (선택사항)

#### 1.3 프로젝트 상세 페이지 통합
**파일**: `morpheus-react/web/src/components/Project/ProjectDetailTabs.jsx`
- "진행도" 탭 추가 또는 상세 정보 탭에 통합

---

### 2. AI 기능 실제 연동

#### 2.1 API 함수 추가
**파일**: `morpheus-react/web/src/api/ai.js`
```javascript
import axios from 'axios';
import { API_ENDPOINTS } from '../config/api';

export const getTaskSuggestions = async (projectId, options) => {
  // 구현 필요
};
```

#### 2.2 AI 어드바이저 페이지 수정
**파일**: `morpheus-react/web/src/pages/AIadvisorPage.jsx`
- 프로젝트 선택 기능 추가
- AI Task 제안 요청 및 결과 표시
- 제안된 Task를 실제 Task로 생성하는 기능

#### 2.3 AI 다음 단계 페이지 수정
**파일**: `morpheus-react/web/src/pages/AINextStepPage.jsx`
- AI 기반 Task 제안 목록 표시
- 우선순위별 정렬 및 필터링
- Task 생성 버튼

---

### 3. Task-이슈 연동 기능

#### 3.1 Task 생성/수정 폼 수정
**파일**: `morpheus-react/web/src/components/Project/task/ProjectTaskAdd.jsx`
**파일**: `morpheus-react/web/src/components/Project/task/ProjectTaskEdit.jsx`
- GitHub 이슈 번호 입력 필드 추가
- GitHub 이슈 목록에서 선택하는 드롭다운 추가 (선택사항)

#### 3.2 백엔드: 이슈 상태 변경 감지
**파일**: `backend/services/githubService.js` 또는 `backend/controllers/githubController.js`
- GitHub 동기화 시 이슈 상태 확인
- 이슈가 닫히면 연결된 Task 상태를 `done`으로 변경

---

## 🔍 추가 확인 사항

### 데이터베이스 스키마 확인 필요
1. **Tasks 테이블에 `githubIssueNumber` 필드가 있는지 확인**
   - 없으면 마이그레이션 필요

2. **백엔드 API 응답 형식 확인**
   - 진행도 API 응답 형식 확인
   - AI API 응답 형식 확인

### 환경 변수 확인
1. **AI 백엔드 URL 설정 확인**
   - `morpheus-react/web/src/config/api.js`에서 `AI_API_BASE_URL` 확인
   - 백엔드 `.env`에서 `AI_BACKEND_URL` 확인

### 테스트 필요 사항
1. **진행도 계산 로직 테스트**
   - 다양한 프로젝트 상태에서 진행도 계산 정확성 확인

2. **AI 기능 테스트**
   - AI 백엔드 연결 확인
   - Task 제안 품질 확인

---

## 📌 참고 사항

### 기획서와의 차이점
1. **Team API**: 기획서에는 Team API가 있지만, 현재는 Project 기반으로 구현됨
   - Project에 `project_code`와 `password_hash`가 있어 Team 기능을 대체하는 것으로 보임

2. **GitHub 이슈 연동**: 기획서에는 Task에 `githubIssueNumber` 필드가 있어야 하는데, 현재 스키마에 있는지 확인 필요

### 기술 스택
- 백엔드: Node.js + Express + SQLite (개발용)
- 프론트엔드: React 19 + Vite + Material-UI
- AI 백엔드: Python + Flask (별도 서버)

### 배포 환경
- SSH로 별도 서버 사용 중
- 환경 변수 설정 및 서버 배포 설정 확인 필요

---

## ✅ 다음 단계

1. **즉시 시작 가능한 작업**
   - 진행도 시각화 구현 (프론트엔드)
   - AI 기능 실제 연동 (프론트엔드)

2. **백엔드 확인 필요**
   - Tasks 테이블 스키마 확인
   - 진행도 API 응답 형식 확인
   - AI API 응답 형식 확인

3. **테스트 및 배포**
   - 기능 테스트
   - 서버 배포 설정 확인
   - 환경 변수 설정 확인

