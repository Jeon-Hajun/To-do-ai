# 1. 기획

### 1-1. 문제 정의

- 기존 Todo 앱은 체크리스트 중심이라 목표 기반 계획 수립이 어려움
- 계획 변경 시 수동 조정 부담이 큼 → 유지 비용과 이탈 증가

### 1-2. 해결 방향 (Todo + AI 단계적 적용)

- 기본: 빠른 기록/관리(입력 부담 최소화)
- 생성/요약: 목표 기반 Todo 생성·요약·우선순위 제안(LLM)
- 조정/추천: 진행 데이터 기반 동적 일정 조정과 근거 있는 추천

### 1-3. 개발 계획 (MVP 단계)

- MVP0: 기본 Todo(생성/조회/수정/삭제, 상태 변경)
- MVP1: AI Todo 생성/요약(LLM 연동, 프롬프트 엔지니어링)
- MVP2: 자동 조정(마감/우선순위/일정 제안), 간단 피드백 루프

---

- MVP3: RAG 추천(사용 이력 기반 제안), 도메인 템플릿
- MVP4: 캘린더/웹훅 연동 에이전트(승인·가드레일·감사로그)로 일정 자동 반영

# 2. 설계

### 2-1. 화면 설계

- **홈 화면**: 오늘의 Todo, 진행 상황 요약
- **Todo 작성 화면**: 목표 연결, 세부 작업 입력
- **Todo 상세 화면**: 진행 상태, 일정 변경, 메모
- **추천/자동 생성 화면**: AI가 제안한 Todo 확인 및 수정
- **설정 화면**: 목표 관리, 알림, 우선순위 설정

#### 2-1-1. IA 테이블(로그인/홈/캘린더/목표/그룹/설정)

| 1Depth | 2Depth | 3Depth | Type |
|---|---|---|---|
| 로그인 | 로그인 | - | PAGE |
| 로그인 | 회원가입 | 아이디 중복 확인 | POPUP |
| 로그인 | 아이디/비밀번호 찾기 | - | POPUP |
| 로그인 | 로그인 없이 접속 | - | PAGE |
| To Do | todo list | 오늘의 todo 조회 | PAGE |
| To Do | todo list | todo update | PAGE |
| 캘린더 To Do | 주간 캘린더 | 특정 날짜 todo 조회 | POPUP |
| 캘린더 To Do | 주간 캘린더 | todo update | POPUP |
| 캘린더 To Do | 월간 캘린더 | 특정 날짜 todo 조회 | PAGE |
| 캘린더 To Do | 월간 캘린더 | todo update | POPUP |
| 목표 페이지 | 목표 리스트 보여주기 | 목표 추가하기 | PAGE |
| 목표 페이지 | 목표 리스트 보여주기 | 목표 수정하기 | POPUP |
| 그룹 페이지 | 그룹 표시 | - | PAGE |
| 그룹 페이지 | 그룹 표시 | 그룹원 추가 | POPUP |
| 그룹 페이지 | 그룹 표시 | 그룹 목표 확인 | PAGE |
| 그룹 페이지 | 그룹 표시 | 그룹 탈퇴 | POPUP |
| 설정 | 개인 맞춤 설정 | - | PAGE |
| 설정 | 프로필 정보 | 사진 추가하기 | POPUP |
| 설정 | 로그아웃 | - | PAGE |
| 설정 | 탈퇴하기 | - | POPUP |

### 2-2. DB 설계

- **User** (PK: id)
    - email, passwordHash, name, createdAt, updatedAt
- **Goal** (PK: id, FK: userId → User.id)
    - title, dueDate, status, createdAt, updatedAt
- **Todo** (PK: id, FK: goalId → Goal.id, FK: userId → User.id)
    - title, description, priority, status, dueDate, createdAt, updatedAt
- **AI_Log** (PK: id, FK: userId → User.id, FK: todoId → Todo.id)
    - type, input, output, feedback, createdAt

### 2-3. API 설계

**User API**
- POST /api/user/login (로그인)
- POST /api/user/logout (로그아웃)
- GET /api/user/duplicate (아이디 중복 확인)
- POST /api/user/join (회원가입)
- PATCH /api/user/update (회원정보 수정)
- GET /api/user/info (회원정보 조회)
- POST /api/user/findId (아이디 찾기)
- POST /api/user/find (개인정보 확인)
- PATCH /api/user/password (비밀번호 수정)
- DELETE /api/user/out (회원 탈퇴)

**Goal API**
- POST /api/goal/create (목표 생성)
- GET /api/goal/info (목표 목록/상세 조회: id 쿼리로 구분)
- PATCH /api/goal/update (목표 수정)
- DELETE /api/goal/delete (목표 삭제)

**Todo API**
- POST /api/todo/create (할 일 생성)
- GET /api/todo/info (상세/목록 조회: id/goalId 쿼리)
- PATCH /api/todo/update (할 일 수정)
- PATCH /api/todo/status (상태 변경)
- DELETE /api/todo/delete (할 일 삭제)

**AI API**
- POST /api/ai/todo (목표/컨텍스트 기반 생성)
- POST /api/ai/summary (일일/주간 요약)
- POST /api/ai/adjust (일정/우선순위 제안)

### 2-4. Issue

---

- 1. 사용 API 비용 문제
    - 개발 시
        - 무료 api 이용
        - 저렴한 유료 api 5~10$
        - ~~개인 llm 서버 유지~~
    - 서비스 시(향후 추가 상의)
        - 무료 요금제
            - 월 api 호출 10회 정도
            - 목표 개수 2개
        - 저렴한 요금제
            - 2~4000원
            - 광고제거
            - 목표개수 10개
            - 월 api 200회 호출

- 2. todo 자동 생성은 사용자 입력 프롬프트에 따라 AI 특성상 원하지 않는 결과가 발생할 수 있음
    - 주제 파악 → 주제 분리 → todo 생성
    - 주제 파악 단계에서 원하는 요소 면밀히 파악하도록 노력
    - 주제 파악
        - 챗봇 형식으로 ai의 질문을 통해 주제를 상세히 파악
        - 초기 질문지를 구체화(일단 이걸로 구현해보기)
            - 제한 일정
            - 하루 투자 시간
            - 우선순위
            - 안되는 기간 등..
    - 세부 주제로 분리(n회)
        - 주제나 일정에 따라 주제를 세부주제, 목표로 분리함
    - todo를 구체화하여 todo로 변환
        - 마감일 등..

- 3. 일정 및 마감 등의 자동 조정은 사용자가 의도한대로 동작이 일어나지 않을 수 있음
    - use case를 좀 더 구체화 해봐야겠지만, 그럴 가능성이 크거나 영향이 크다고 생각하지 않아
    - 사용자가 여러번 시도하게 하여 수정하게 하도록 계획했습니다.
    

- 4. RAG는 어떤 방식으로 할 것인지? 상용 임베딩 모델을 사용할 것인지 등 확인 필요
    - 도메인별로 정형화된 프로세스를 참고하여 답변을 생성하게 하려고 함.
        - 분야, 기간, 실험적/비실험적 → 에자일 프로세스, 린 스타트업 등등..
    - RAG 분야에 지식이 부족하다 생각되서 자체 구현보다는 상용 임베딩 모델을 사용할 예정입니다.
